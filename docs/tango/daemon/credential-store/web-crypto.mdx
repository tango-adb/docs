---
sidebar_position: 1
---

# Web Crypto

import CanIUse from "../../../can-i-use";

[`@yume-chan/adb-credential-web`](https://www.npmjs.com/package/@yume-chan/adb-credential-web) package provides a credential store that uses [Web Crypto API](https://developer.mozilla.org/en-US/docs/Web/API/Web_Crypto_API) to generate ADB private keys.

<CanIUse feature="cryptography" />

## Web

```sh npm2yarn
npm i @yume-chan/adb-credential-web
```

```ts transpile
import AdbWebCredentialStore from "@yume-chan/adb-credential-web";

// highlight-start
const CredentialStore: AdbWebCredentialStore = new AdbWebCredentialStore();
// highlight-end
```

Optionally, you can provide a name for your keys. On Android 11 and above, it will appear in "Settings -> Developer options -> Wireless debugging -> Paired devices". The default value is `Tango@<current host name>`, e.g. `Tango@app.tangoapp.dev`.

```ts transpile
import AdbWebCredentialStore from "@yume-chan/adb-credential-web";

// highlight-start
const CredentialStore: AdbWebCredentialStore = new AdbWebCredentialStore(
  "Your Key Name"
);
// highlight-end
```

Two unencrypted storages are provided:

### `TangoLocalStorage`

Stores data in `LocalStorage`. Only one key-value pair can be stored at a time.

```ts transpile
import { TangoLocalStorage } from "@yume-chan/adb-credential-web";

const storage = new TangoLocalStorage("key");
```

### `TangoIndexedDbStorage`

Stores data using IndexedDB API. It will create a database named `"Tango"` and a store (table) named `"Authentication"` in it.

It can store multiple key-value pairs. And it can be used in Web Workers.

```ts transpile
import { TangoIndexedDbStorage } from "@yume-chan/adb-credential-web";

const storage = new TangoIndexedDbStorage();
```

## Node.js

Node.js also supports Web Crypto API, so we have a dedicated `@yume-chan/adb-credential-nodejs` package that provides `TangoKeyStore`s for Node.js:

```sh npm2yarn
npm i @yume-chan/adb-credential-nodejs
```

It's mostly compatible with Google ADB:

* It reads ADB keys from `~/.android/adbkey` and `ADB_VENDOR_KEYS` environment variable
* It saves new ADB key pair to `~/.android/adbkey` and `~/.android/adbkey.pub`

To interop with Google ADB, don't chain `TangoNodeStorage` with any other encrypted storages.
